{
    "path": "artifacts/ichi.pdf",
    "project_info": {
        "url": "https://github.com/ichifarm/ichi-oneToken/tree/09fca7431a18028779d36427ab3ccdf947e43d40",
        "commit_id": "09fca7431a18028779d36427ab3ccdf947e43d40",
        "address": "n/a",
        "chain": "n/a",
        "compiler_version": [
            "n/a"
        ],
        "project_path": {
            "ichi-oneToken": "contracts/ichi/ichi-oneToken"
        }
    },
    "findings": [
        {
            "id": 0,
            "category": {
                "1": [
                    "CWE-682"
                ],
                "2": [
                    "CWE-1339"
                ]
            },
            "title": "QSP-2 Wrong precision returned in Oracle.amountRequired",
            "description": "Wrong precision returned in Oracle.amountRequired",
            "severity": "high",
            "location": "oracle/OracleCommon.sol, oracle/composite/ICHICompositeOracle.sol, oracle/pegged/ICHIPeggedOracle.sol"
        },
        {
            "id": 1,
            "category": {
                "1": [
                    "CWE-682"
                ]
            },
            "title": "QSP-3 OneTokens can be redeemed for profit because of decimal issues",
            "description": "OneTokens can be redeemed for profit because of decimal issues",
            "severity": "high",
            "location": "OneTokenV1.sol"
        },
        {
            "id": 2,
            "category": {
                "1": [
                    "CWE-664"
                ]
            },
            "title": "QSP-4 OneTokens can be redeemed 1-to-1 for collateral",
            "description": "OneTokens can be redeemed 1-to-1 for collateral",
            "severity": "high",
            "location": "OneTokenV1.sol"
        },
        {
            "id": 3,
            "category": {
                "1": [
                    "CWE-284"
                ],
                "2": [
                    "CWE-282"
                ],
                "3": [
                    "CWE-708"
                ]
            },
            "title": "QSP-5 Privileged Roles and Ownership",
            "description": "Privileged Roles and Ownership",
            "severity": "medium",
            "location": "Arbitrary.sol, OneTokenV1.sol"
        },
        {
            "id": 4,
            "category": {
                "1": [
                    "CWE-682"
                ]
            },
            "title": "QSP-6 Incorrect amountRequired function",
            "description": "Incorrect amountRequired function",
            "severity": "medium",
            "location": "ICHICompositeOracle.sol"
        },
        {
            "id": 5,
            "category": {
                "1": [
                    "CWE-664"
                ],
                "2": [
                    "CWE-404"
                ]
            },
            "title": "QSP-7 removeStrategy does not close the strategy's position",
            "description": "removeStrategy does not close the strategy's position",
            "severity": "medium",
            "location": "OneTokenV1Base.sol"
        },
        {
            "id": 6,
            "category": {
                "1": [
                    "CWE-703"
                ],
                "2": [
                    "CWE-754"
                ]
            },
            "title": "QSP-8 Missing pair initializer check in UniswapOracleSimple",
            "description": "Missing pair initializer check in UniswapOracleSimple",
            "severity": "medium",
            "location": "UniswapOracleSimple.sol"
        },
        {
            "id": 7,
            "category": {
                "1": [
                    "CWE-682"
                ]
            },
            "title": "QSP-9 Stub volatility values",
            "description": "Stub volatility values",
            "severity": "low",
            "location": "UniswapOracleSimple.sol"
        },
        {
            "id": 8,
            "category": {
                "1": [
                    "CWE-691"
                ],
                "2": [
                    "CWE-670"
                ]
            },
            "title": "QSP-10 Setter functions for min and max ratio may break step size invariant",
            "description": "Setter functions for min and max ratio may break step size invariant",
            "severity": "low",
            "location": "Incremental.sol"
        },
        {
            "id": 9,
            "category": {
                "1": [
                    "CWE-284"
                ]
            },
            "title": "QSP-11 updateMintingRatio can be called repeatedly",
            "description": "updateMintingRatio can be called repeatedly",
            "severity": "low",
            "location": "Incremental.sol"
        },
        {
            "id": 10,
            "category": {
                "1": [
                    "CWE-710"
                ],
                "2": [
                    "CWE-1059"
                ],
                "3": [
                    "CWE-1053"
                ]
            },
            "title": "QSP-12 Unclear distinction between execute and executeTransaction",
            "description": "Unclear distinction between execute and executeTransaction",
            "severity": "low",
            "location": "StrategyCommon.sol, Arbitrary.sol, OneTokenV1Base.sol"
        },
        {
            "id": 11,
            "category": {
                "1": [
                    "CWE-703"
                ],
                "2": [
                    "CWE-754"
                ]
            },
            "title": "QSP-13 setStrategy ignores allowance parameter",
            "description": "setStrategy ignores allowance parameter",
            "severity": "low",
            "location": "OneTokenV1Base.sol"
        },
        {
            "id": 12,
            "category": {
                "1": [
                    "CWE-707"
                ],
                "2": [
                    "CWE-20"
                ]
            },
            "title": "QSP-14 Unchecked function arguments",
            "description": "Unchecked function arguments",
            "severity": "low",
            "location": "Multiple files"
        },
        {
            "id": 13,
            "category": {
                "1": [
                    "CWE-682"
                ]
            },
            "title": "QSP-15 mintingRatio might never reach its bounds",
            "description": "mintingRatio might never reach its bounds",
            "severity": "low",
            "location": "Incremental.sol"
        },
        {
            "id": 14,
            "category": {
                "1": [
                    "CWE-710"
                ],
                "2": [
                    "CWE-1068"
                ]
            },
            "title": "QSP-16 Incremental's events miss oneToken parameter",
            "description": "Incremental's events miss oneToken parameter",
            "severity": "low",
            "location": "Incremental.sol"
        },
        {
            "id": 15,
            "category": {
                "1": [
                    "CWE-664"
                ]
            },
            "title": "QSP-17 Approval of old strategy is not revoked",
            "description": "Approval of old strategy is not revoked",
            "severity": "low",
            "location": "OneTokenV1Base.sol"
        },
        {
            "id": 16,
            "category": {
                "1": [
                    "CWE-664"
                ],
                "2": [
                    "CWE-221"
                ],
                "3": [
                    "CWE-223"
                ]
            },
            "title": "QSP-18 setStrategyAllowance misses funds that are currently deployed",
            "description": "setStrategyAllowance misses funds that are currently deployed",
            "severity": "low",
            "location": "OneTokenV1Base.sol"
        },
        {
            "id": 17,
            "category": {
                "1": [
                    "CWE-435"
                ],
                "2": [
                    "CWE-436"
                ],
                "3": [
                    "CWE-437"
                ]
            },
            "title": "QSP-19 Incompatible with non-standard ERC20 tokens",
            "description": "Incompatible with non-standard ERC20 tokens",
            "severity": "low",
            "location": "OneTokenV1.sol, StrategyCommon.sol"
        },
        {
            "id": 18,
            "category": {
                "1": [
                    "CWE-284"
                ]
            },
            "title": "QSP-20 Clone-and-Own",
            "description": "Clone-and-Own",
            "severity": "info",
            "location": "Multiple files"
        },
        {
            "id": 19,
            "category": {
                "1": [
                    "CWE-710"
                ]
            },
            "title": "QSP-21 Unlocked Pragma",
            "description": "Unlocked Pragma",
            "severity": "info",
            "location": "Multiple files"
        },
        {
            "id": 20,
            "category": {
                "1": [
                    "CWE-435"
                ],
                "2": [
                    "CWE-436"
                ]
            },
            "title": "QSP-22 Inconsistent constraints in setMinRatio and setMaxRatio",
            "description": "Inconsistent constraints in setMinRatio and setMaxRatio",
            "severity": "info",
            "location": "Incremental.sol"
        },
        {
            "id": 21,
            "category": {
                "1": [
                    "CWE-691"
                ],
                "2": [
                    "CWE-670"
                ]
            },
            "title": "QSP-23 Oracle update function not always called after initialization",
            "description": "Oracle update function not always called after initialization",
            "severity": "info",
            "location": "OneTokenV1Base.sol, OneTokenFactory.sol"
        },
        {
            "id": 22,
            "category": {
                "1": [
                    "CWE-682"
                ]
            },
            "title": "QSP-24 Unclear volatility computation in composite oracles",
            "description": "The function read states that \"volatility is calculated by the final oracle\"",
            "severity": "n/a",
            "location": "ICHICompositeOracle.sol"
        },
        {
            "id": 23,
            "category": {
                "1": [
                    "CWE-682"
                ]
            },
            "title": "QSP-25 maxOrderVolume is always INFINITE",
            "description": "In the function getMintingRatio4, maxOrderVolume is set to INFINITE in all paths.",
            "severity": "n/a",
            "location": "Incremental.sol"
        },
        {
            "id": 24,
            "category": {
                "1": [
                    "CWE-691"
                ],
                "2": [
                    "CWE-705"
                ],
                "3": [
                    "CWE-455"
                ]
            },
            "title": "QSP-26 Unclear why init may be called multiple times",
            "description": "The docstring for init indicates that \"a strategy is dedicated to exactly one oneToken instance and must be re-initializable\"",
            "severity": "n/a",
            "location": "StrategyCommon.sol"
        },
        {
            "id": 25,
            "category": {
                "1": [
                    "CWE-710"
                ],
                "2": [
                    "CWE-1120"
                ],
                "3": [
                    "CWE-1080"
                ]
            },
            "title": "QSP-27 Contract size potentially exceeds the limit",
            "description": "The contract OneTokenV1.sol appears to exceed 24576 bytes, and may have issues during deployment without further optimization.",
            "severity": "n/a",
            "location": "OneTokenV1.sol"
        },
        {
            "id": 26,
            "category": {
                "1": [
                    "CWE-682"
                ]
            },
            "title": "QSP-28 Minting fees are only paid on collateral value",
            "description": "The minting fee in mint is only paid on the collateral value, not on the member token value.",
            "severity": "n/a",
            "location": "OneTokenV1.sol"
        }
    ]
}